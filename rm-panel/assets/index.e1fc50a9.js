import{a5 as f,v as k,f as y,R as w,i as C,P as j,a4 as P,j as N,s as V,r as i,o as d,c as S,w as u,k as t,l as c,q as R,t as l,a as s,d as x,F,b as z,J as M,K as B,_ as D}from"./index.ef40ff0d.js";import{r as G}from"./index.144d991d.js";var I={name:"rmRewardsGroup",components:{datePicker:f.exports.datePicker,vaxView:k,vaxForm:y,vaxButton:w,vaxInputField:C,rmAgeCategorySelect:G},data(){return{datePickerConfig1:{locale:j,dateFormat:"d-m-Y",allowInput:!0},afterPost:()=>this.getJsonViewData()}},methods:{getAgeOptionName:e=>P[e+1],editGroupReward(e){const v=e.target;var n;for(n=v;n.tagName.toUpperCase()!=="TR";n=n.parentElement);const r=n.getElementsByTagName("input");this.submitPostDirect({formName:"editGroupReward",id:r[0].value,totalCount:r[1].value})}},mixins:[N,V]};const o=e=>(M("data-v-50df3abf"),e=e(),B(),e),A={class:"vax-flex vax-margin-bottom-wide"},E={class:"vax-wrapper-scrollbar-x vax-inline-block"},O={class:"vax-table vax-inline-table vax-table-hover"},T=o(()=>t("thead",null,[t("tr",null,[t("td",{class:"vax-cell-hidden"},"\xA0"),t("td",{class:"vax-cell-hidden"},"\xA0"),t("td",{class:"vax-cell-hidden"},"\xA0"),t("td",{class:"vax-cell-join-right"},[t("div",{class:"vax-width-0"},"Wiek")]),t("td",{class:"vax-cell-join-left"},"\xA0"),t("td",{class:"vax-cell-join-right"},[t("div",{class:"vax-width-0"},"Wa\u017Cno\u015B\u0107")]),t("td",{class:"vax-cell-join-left"},"\xA0"),t("td",{class:"vax-cell-join-right"},[t("div",{class:"vax-width-0"},"Sztuk")]),t("td",{class:"vax-cell-join-left"},"\xA0"),t("td",{class:"vax-cell-hidden"},"\xA0")]),t("tr",{class:"vax-table-row-underline"},[t("td",{class:"vax-cell-hidden"},"\xA0"),t("td",null,"Nazwa"),t("td",null,"Priorytet"),t("td",null,"min"),t("td",null,"max"),t("td",null,"od"),t("td",null,"do"),t("td",null,"razem"),t("td",null,"zosta\u0142o"),t("td",null,"Usu\u0144")])],-1)),U={class:"vax-text-align-right"},q={class:"vax-icon-small-height"},W={class:"-vax-text-align-right"},J={class:"vax-text-align-right"},K={key:0,class:"vax-flex"},L=["value"],Y=o(()=>t("i",{class:"fa fa-edit"},null,-1)),$={key:1},H={class:"vax-text-align-right"},Q=["onClick"],X=o(()=>t("i",{class:"fa fa-trash-o"},null,-1)),Z=[X],tt={class:"vax-wrapper-scrollbar-x vax-inline-block vax-margin-bottom"},et={class:"vax-table vax-inline-table vax-table-hover"},at=o(()=>t("thead",null,[t("tr",null,[t("td",{class:"vax-cell-hidden"},"\xA0"),t("td",{class:"vax-cell-hidden"},"\xA0"),t("td",{class:"vax-cell-join-right"},[t("div",{class:"vax-width-0"},"Wiek")]),t("td",{class:"vax-cell-join-left"},"\xA0"),t("td",{class:"vax-cell-join-right"},[t("div",{class:"vax-width-0"},"Wa\u017Cno\u015B\u0107")]),t("td",{class:"vax-cell-join-left"},"\xA0")]),t("tr",{class:"vax-table-row-underline"},[t("td",null,"Nazwa"),t("td",null,"Priorytet"),t("td",null,"min"),t("td",null,"max"),t("td",null,"od"),t("td",null,"do"),t("td",null,"Sztuk razem")])],-1)),lt=o(()=>t("td",null,[t("input",{name:"rewardName",class:"input vax-icon-small-height",required:"",maxlength:"50"})],-1)),nt=o(()=>t("td",null,[t("input",{name:"priority",type:"number",class:"input vax-numbers-2 vax-text-align-right",required:""})],-1)),st=o(()=>t("td",null,[t("input",{name:"totalCount",type:"number",class:"input vax-numbers-4 vax-text-align-right",required:""})],-1));function ot(e,v){const n=i("vax-input-field"),r=i("vax-button"),m=i("rm-age-category-select"),p=i("date-picker"),h=i("vax-form"),g=i("vax-view");return e.jsonView?(d(),S(g,{key:0,"view-data":e.jsonView,response:e.response,"response-class":e.responseClass},{default:u(()=>[t("div",A,[t("div",E,[t("table",O,[T,t("tbody",null,[(d(!0),c(F,null,R(e.jsonView.rewards,(a,b)=>(d(),c("tr",null,[t("td",U,l(b+1),1),t("td",q,l(a.rewardName),1),t("td",W,l(a.priority),1),t("td",null,l(e.getAgeOptionName(a.ageCategoryMin)),1),t("td",null,l(e.getAgeOptionName(a.ageCategoryMax)),1),t("td",null,l(a.validFrom),1),t("td",null,l(a.validTo),1),t("td",J,[a.canEdit?(d(),c("div",K,[t("input",{type:"hidden",value:a.id},null,8,L),s(n,{modelValue:a.totalCount,"onUpdate:modelValue":_=>a.totalCount=_,type:"number",name:"name",class:"vax-margin-bottom-none vax-numbers-3"},null,8,["modelValue","onUpdate:modelValue"]),s(r,{"button-class":"is-warning vax-button-small",onClick:e.editGroupReward},{default:u(()=>[Y]),_:1},8,["onClick"])])):(d(),c("span",$,l(a.totalCount),1))]),t("td",H,l(a.remainingCount),1),t("td",null,[a.canEdit?(d(),c("button",{key:0,class:"button vax-button-small is-danger",onClick:_=>e.submitPostDirect({formName:"removeGroupReward",id:a.id})},Z,8,Q)):x("",!0)])]))),256))])])])]),s(h,{name:"addGroupReward",action:e.postUrl,method:"POST",onSubmit:z(e.submitPostAndReset,["prevent"]),"submit-caption":"Dodaj nagrod\u0119"},{default:u(()=>[t("div",tt,[t("table",et,[at,t("tbody",null,[t("tr",null,[lt,nt,t("td",null,[s(m,{name:"ageCategoryMin"})]),t("td",null,[s(m,{name:"ageCategoryMax"})]),t("td",null,[s(p,{config:e.datePickerConfig1,value:"",name:"validFrom",class:"input",placeholder:"dd-mm-rrrr"},null,8,["config"])]),t("td",null,[s(p,{config:e.datePickerConfig1,value:"",name:"validTo",class:"input",placeholder:"dd-mm-rrrr"},null,8,["config"])]),st])])])])]),_:1},8,["action","onSubmit"])]),_:1},8,["view-data","response","response-class"])):x("",!0)}var ct=D(I,[["render",ot],["__scopeId","data-v-50df3abf"]]);export{ct as default};
