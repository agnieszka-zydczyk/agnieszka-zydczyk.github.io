import{v as w,H as b,a3 as k,$ as C,j,s as V,r as g,o as d,c as P,w as c,l as n,a as _,n as r,t as a,k as s,F as h,q as p,A as m,d as v,J as D,K as y,_ as A}from"./index.ef40ff0d.js";var N={name:"rmRequests",components:{vaxView:w,vaxBox:b},data(){return{unitTypesPlural:k,afterPost:()=>this.getJsonViewData()}},methods:{manageUnit(e){this.afterPost=()=>this.$router.push("/manageUnit",()=>C()),this.submitPostDirect({formName:"changeUnitContext",id:e})}},mixins:[j,V]};const o=e=>(D("data-v-03d3eac8"),e=e(),y(),e),K=r("Dotychczas zaakceptowano:"),U={class:"vax-wrapper-scrollbar-x"},S={class:"vax-table"},$=o(()=>s("thead",null,[s("tr",null,[s("td",{class:"vax-cell-hidden"},"\xA0"),s("td",{class:"vax-cell-hidden"},"\xA0"),s("td",{class:"vax-cell-join-right"},[s("div",{class:"vax-width-0"},"Zadeklarowano")]),s("td",{class:"vax-cell-join"},"\xA0"),s("td",{class:"vax-cell-join-left"},"\xA0"),s("td",{class:"vax-cell-join-right"},[s("div",{class:"vax-width-0"},"Wprowadzono")]),s("td",{class:"vax-cell-join"},"\xA0"),s("td",{class:"vax-cell-join-left"},"\xA0"),s("td",{class:"vax-cell-hidden"},"\xA0"),s("td",{class:"vax-cell-hidden"},"\xA0"),s("td",{class:"vax-cell-hidden"},"\xA0")]),s("tr",null,[s("td",{class:"vax-text-align-left"},"Nazwa jednostki"),s("td",null,"Dzielnica"),s("td",null,"doro\u015Bli"),s("td",null,"dzieci"),s("td",null,"oddzi."),s("td",null,"doro\u015Bli"),s("td",null,"dzieci"),s("td",null,"oddzi."),s("td",null,"Akceptuj"),s("td",null,"Odrzu\u0107"),s("td",null,"Usu\u0144")])],-1)),B={class:"vax-table-row-lines vax-bold"},q=o(()=>s("td",{class:"vax-cell-transparent"},"\xA0",-1)),I={class:"vax-text-align-right"},M={class:"vax-text-align-right"},R={class:"vax-text-align-right"},T={class:"vax-text-align-right"},F={class:"vax-text-align-right"},J={class:"vax-text-align-right"},O=o(()=>s("td",{class:"vax-cell-transparent"},"\xA0",-1)),E=o(()=>s("td",{class:"vax-cell-transparent"},"\xA0",-1)),H=o(()=>s("td",{class:"vax-cell-transparent"},"\xA0",-1)),L=["onClick"],W=o(()=>s("i",{class:"fa fa-file-o"},null,-1)),Z={class:"vax-text-align-right"},G={class:"vax-text-align-right"},Q={class:"vax-text-align-right"},X=["onClick"],Y=o(()=>s("i",{class:"fa fa-check"},null,-1)),ss=[Y],ts=["onClick"],es=o(()=>s("i",{class:"fa fa-times"},null,-1)),as=[es],ls={key:0,class:"button vax-button-small"},ds=o(()=>s("i",{class:"fa fa-check"},null,-1)),os=[ds],ns={key:0,class:"button vax-button-small"},is=o(()=>s("i",{class:"fa fa-times"},null,-1)),cs=[is],rs=["onClick"],us=o(()=>s("i",{class:"fa fa-trash-o"},null,-1)),_s=[us];function hs(e,vs){const u=g("vax-box"),f=g("vax-view");return e.jsonView?(d(),P(f,{key:0,"view-data":e.jsonView,response:e.response,"response-class":e.responseClass},{default:c(()=>[e.jsonView.contextMissing?v("",!0):(d(),n(h,{key:0},[_(u,{size:"medium",class:"vax-margin-right-wide",shadow:!1},{default:c(()=>[K]),_:1}),_(u,{size:"medium"},{default:c(()=>[r("Przedszkola: "+a(e.jsonView.acceptedTotal.units[0]),1)]),_:1}),_(u,{size:"medium"},{default:c(()=>[r("SP: "+a(e.jsonView.acceptedTotal.units[1]),1)]),_:1}),_(u,{size:"medium"},{default:c(()=>[r("Dzieci: "+a(e.jsonView.acceptedTotal.kids),1)]),_:1}),_(u,{size:"medium"},{default:c(()=>[r("Doros\u0142ych: "+a(e.jsonView.acceptedTotal.adults),1)]),_:1}),_(u,{size:"medium"},{default:c(()=>[r("Oddzia\u0142\xF3w: "+a(e.jsonView.acceptedTotal.clazzes),1)]),_:1}),s("div",U,[s("table",S,[$,(d(!0),n(h,null,p(e.jsonView.units,(i,z)=>(d(),n("tbody",null,[s("tr",B,[s("td",null,a(e.unitTypesPlural[z]),1),q,s("td",I,a(i.reduce((t,l)=>t+l.declaredAdults,0)),1),s("td",M,a(i.reduce((t,l)=>t+l.declaredKids,0)),1),s("td",R,a(i.reduce((t,l)=>t+l.declaredClazzes,0)),1),s("td",T,a(i.reduce((t,l)=>t+l.countAdults,0)),1),s("td",F,a(i.reduce((t,l)=>t+l.countKids,0)),1),s("td",J,a(i.reduce((t,l)=>t+l.countClazzes,0)),1),O,E,H]),(d(!0),n(h,null,p(i,(t,l)=>(d(),n("tr",null,[s("td",{class:"vax-text-align-left",onClick:x=>e.manageUnit(t.id)},[s("a",null,[W,r(" "+a(t.unitName),1)])],8,L),s("td",null,a(t.unitDistrict),1),s("td",Z,a(t.declaredAdults),1),s("td",G,a(t.declaredKids),1),s("td",Q,a(t.declaredClazzes),1),s("td",{class:m(["vax-text-align-right",{"vax-is-warning":t.countAdults!==t.declaredAdults}])},a(t.countAdults),3),s("td",{class:m(["vax-text-align-right",{"vax-is-error":t.countKids!==t.declaredKids}])},a(t.countKids),3),s("td",{class:m(["vax-text-align-right",{"vax-is-error":t.countClazzes!==t.declaredClazzes}])},a(t.countClazzes),3),t.verdictPending?(d(),n(h,{key:0},[s("td",null,[s("button",{class:"button vax-button-small is-success",onClick:x=>e.submitPostDirect({formName:"requests",id:t.id,verdict:1})},ss,8,X)]),s("td",null,[s("button",{class:"button vax-button-small is-danger",onClick:x=>e.submitPostDirect({formName:"requests",id:t.id,verdict:0})},as,8,ts)])],64)):(d(),n(h,{key:1},[s("td",null,[t.isAccepted?(d(),n("button",ls,os)):v("",!0)]),s("td",null,[t.isAccepted?v("",!0):(d(),n("button",ns,cs))])],64)),s("td",null,[t.isRemovable?(d(),n("button",{key:0,class:"button vax-button-small is-warning",onClick:x=>e.submitPostDirectUpdateContext({formName:"removeUnit",id:t.id})},_s,8,rs)):v("",!0)])]))),256))]))),256))])])],64))]),_:1},8,["view-data","response","response-class"])):v("",!0)}var ms=A(N,[["render",hs],["__scopeId","data-v-03d3eac8"]]);export{ms as default};
